<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/common.css" />
		<style type="text/css">
			canvas {
				width: 100%;
				background-color: #FDFDFD;
				border-bottom: 1px solid #eee;
			}
		</style>
	</head>

	<body>
		<canvas id="canvas"></canvas>
		<script src="js/common.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var canvas = document.getElementById("canvas");
			var ctx = canvas.getContext("2d");
			var canvasW = 300;
			var canvasH = 500;
			var cr = 5; //小球半径

			var center_x = canvasW / 2; //中心点x坐标
			var center_y = canvasH / 2; //中心点y坐标
			canvas.width = canvasW;
			canvas.height = canvasH;

			//动画1
			function startAnimate1() {
				var a = 100;
				var t = 0;
				var x_pre = 150 + a*(Math.cos(t)); 
				var y_pre = 150 + a*(Math.sin(t));
				var x;
				var y;
				
				function draw(x, y){
					ctx.beginPath();
					ctx.moveTo(x_pre, y_pre);
					ctx.lineTo(x, y);
					ctx.stroke();
					ctx.closePath();
					x_pre = x;
					y_pre = y;
				}
				function animate(){
					t += 0.3;
					x = 150 + a*(Math.cos(t)); 
					y = 150 + a*(Math.sin(t));
					draw(x, y);
					requestAnimFrame(animate);
				}
				animate();
			}
			
			function startAnimate2(){
				var m = 165;
				var n = 160;
				var t = 0;
				var x_pre = 150*(Math.sin(m*t)+1);
				var y_pre = 150*(Math.sin(n*t)+1);
				var x;
				var y;
				
				function draw(x, y){
					ctx.beginPath();
					ctx.moveTo(x_pre, y_pre);
					ctx.lineTo(x, y);
					ctx.stroke();
					ctx.closePath();
					x_pre = x;
					y_pre = y;
				}
				function animate(){
					t += 0.01;
					x = 150*(Math.sin(m*t)+1);
					y = 150*(Math.sin(n*t)+1);
					draw(x, y);
					requestAnimFrame(animate);
				}
				animate();
			}
			
			//重置画板
			function clearCanvas() {
				ctx.beginPath();
				ctx.fillStyle = "#FDFDFD";
				ctx.rect(0, 0, canvasW, canvasH);
				ctx.fill();
				ctx.closePath();
			}

			canvas.addEventListener("click", function() {
				startAnimate2();
			})
		</script>
	</body>

</html>